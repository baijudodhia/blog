---
layout: default
---
<section class="search">
    <form id="search-form" action={{"search.html" | relative_url}} method="get">
        <input type="search" id="search-input" name="q" required placeholder="Search posts..." autofocus>
        <button type="submit" id="search-btn" value="search">
            <i aria-hidden="true" class='fa fa-search'></i>
        </button>
    </form>
    <div id="search-results-container">
        <div id="search-results-title"></div>
        <ol id="search-results">
            <template>
                <li>
                    <a href="" target="_blank"></a>
                </li>
            </template>
        </ol>
    </div>
</section>
<script>
    const searchQuery = document.location.search;
    const urlParams = new URLSearchParams(searchQuery);
    const query = urlParams.get('q');
    async function callSearchBlog(query) {
        results = await searchBlog(query);
        if (results.length > 0) {
            const search_results_title = document.getElementById('search-results-title');
            search_results_title.innerHTML = `<mark>&nbsp;${query}&nbsp;</mark> found in following posts...`;
            const search_results = document.getElementById('search-results');
            var temp, item, a, i;
            temp = document.getElementsByTagName("template")[0];
            item = temp.content.querySelector("li");
            for (i = 0; i < results.length; i++) {
                li = document.importNode(item, true);
                a = li.childNodes[1];
                a.href = results[i]['url'];
                a.innerText = results[i]['title'];
                search_results.appendChild(li);
            }
        } else {
            const search_results_title = document.getElementById('search-results-title');
            search_results_title.innerHTML = `No results found for <mark>&nbsp;${query}&nbsp;</mark>.`;
        }
    }
    if (query === '' || !query.replace(/\s/g, '').length) {
        const search_results_title = document.getElementById('search-results-title');
        search_results_title.innerHTML = `&nbsp;Please enter some keywords to search.`;
    } else if (query !== null && query !== undefined) {
        callSearchBlog(query);
    }
</script>