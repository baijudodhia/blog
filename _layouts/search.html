---
layout: default
---
<section class="search">
    <form id="search-form" action={{"search.html" | relative_url}} method="get">
        <input type="search" id="search-input" name="q" required placeholder="Search posts...">
        <button type="submit" id="search-btn" value="search">
            <i aria-hidden="true" class='fa fa-search'></i>
        </button>
    </form>
    <ol id="search-results">
        <template>
            <li>
                <a href="" target="_blank"></a>
            </li>
        </template>
    </ol>
</section>
<script>
    const searchQuery = document.location.search;
    const urlParams = new URLSearchParams(searchQuery);
    const query = urlParams.get('q');
    async function callSearchBlog() {
        results = await searchBlog(query);
        if (results.length > 0) {
            const search_results = document.getElementById('search-results');
            var div = document.createElement("div");
            div.innerHTML = `Results found for <mark>${query}</mark>`;
            search_results.appendChild(div);
            var temp, item, a, i;
            temp = document.getElementsByTagName("template")[0];
            item = temp.content.querySelector("li");
            for (i = 0; i < results.length; i++) {
                li = document.importNode(item, true);
                a = li.childNodes[1];
                a.href = results[i]['url'];
                a.innerText = results[i]['title'];
                search_results.appendChild(li);
            }
        } else {
            const search_results = document.getElementById('search-results');
            var div = document.createElement("div");
            div.innerHTML = `No results found for <i>${query}</i>.`;
            search_results.appendChild(div);
        }
    }
    if (query !== null && query !== undefined && query !== '') {
        callSearchBlog();
    } else if (query === '') {
        const search_results = document.getElementById('search-results');
        var div = document.createElement("div");
        div.innerHTML = `Please enter some keywords to search.`;
        search_results.appendChild(div);
    }
</script>